var c=Object.defineProperty;var n=(s,e,t)=>e in s?c(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var a=(s,e,t)=>(n(s,typeof e!="symbol"?e+"":e,t),t);import"./modulepreload-polyfill.c7c6310f.js";/* empty css                      */import{E as l}from"./entidade.model.05f7a246.js";import{I as d}from"./item.repository.local-storage.b134efc8.js";import{T as h}from"./tarefa.repository.local-storage.5362b98f.js";class r extends l{constructor(t,o,i){super();a(this,"descricao");a(this,"tarefa");a(this,"status");i&&(this.id=i),this.descricao=t,this.tarefa=o,this.status="Aberto"}}class m{constructor(e,t){a(this,"txtDescricao");a(this,"selectTarefa");a(this,"btnSalvar");a(this,"idSelecionado");if(this.repositorioItens=e,this.configurarElementos(),t){this.idSelecionado=t;const o=this.repositorioItens.selecionarPorId(t);o&&this.preencherFormulario(o)}}preencherFormulario(e){this.txtDescricao.value=e.descricao,this.selectTarefa.value=e.tarefa}obterDadosFormulario(){const e=this.txtDescricao.value,t=this.selectTarefa.value;let o=null;return this.idSelecionado?o=new r(e,t,this.idSelecionado):o=new r(e,t),o}configurarElementos(){this.txtDescricao=document.getElementById("txtDescricao"),this.selectTarefa=document.getElementById("selectTarefa"),this.btnSalvar=document.getElementById("btnSalvar"),new h().selecionarTodos().forEach(t=>{const o=document.createElement("option");o.innerText=t.titulo,this.selectTarefa.appendChild(o)}),this.btnSalvar.addEventListener("click",t=>this.gravarRegistros())}gravarRegistros(){const e=this.obterDadosFormulario();this.idSelecionado?this.repositorioItens.editar(e.id,e):this.repositorioItens.inserir(e),window.location.href="item.list.html"}}const f=new URLSearchParams(window.location.search),u=f.get("id");new m(new d,u);
